import{u as x,_ as b,j as a,a as e,r as v,n as w,d as y}from"./app-c9e88e37.js";import{P as k}from"./Pencil-73012d6f.js";import{P as N}from"./PrimaryButton-058440e7.js";import{P as I}from"./Plus-493679cb.js";import{I as f}from"./InputError-6c0eeddd.js";import{I as g}from"./InputLabel-d74d52a5.js";import{T as p}from"./TextInput-3f5ca2d3.js";import{I as C}from"./Info-798cc64c.js";import{A as D}from"./AuthenticatedLayout-7a15ad2c.js";import{T as P}from"./Trash-189a70e7.js";import"./ApplicationLogo-fef6d1cf.js";import"./SecondaryButton-60ed226d.js";const j=o=>{const{direction:t=null}=o,{setModal:i}=x(),{data:l,setData:n,post:d,patch:m,processing:h,errors:s,reset:u}=b({id:t?t.id:null,sort:t?t.sort:100,title:t?t.title:""}),c=r=>{n(r.target.name,r.target.type==="checkbox"?r.target.checked:r.target.value)};return a("div",{children:[e("h2",{className:"font-bold text-xl text-center mb-4",children:"Направление"}),a("form",{onSubmit:r=>{r.preventDefault(),t&&t.id?m(route("admin.directions.update",{direction:t.id}),{onSuccess:()=>{i(null)}}):d(route("admin.directions.store"),{onSuccess:()=>{i(null)}})},className:"min-w-[24rem]",children:[a("div",{className:"mb-4",children:[e(g,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e(p,{id:"sort",type:"number",name:"sort",bg:"bg-gray-50",value:l.sort,className:"mt-1 block w-full text-xl",onChange:c}),e(f,{message:s.sort,className:"mt-2"})]}),a("div",{className:"mb-4",children:[e(g,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e(p,{id:"title",type:"text",name:"title",bg:"bg-gray-50",value:l.title,className:"mt-1 block w-full text-xl",onChange:c}),e(f,{message:s.title,className:"mt-2"})]}),e(N,{className:"w-full my-4 justify-center text-lg font-semibold",children:"Отправить"}),e("div",{className:"text-center",children:e("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:r=>{r.preventDefault(),i(null)},children:"Отменить"})})]})]})},H=o=>{const{pagetitle:t,directions:i,errors:l={}}=o,{setModal:n}=x(),{data:d,post:m}=b({_method:"delete"}),h=s=>{m(route("admin.directions.destroy",{direction:s.id}))};return v.useEffect(()=>{l&&l.message&&n(e(C,{message:l.message,status:"error"}))},[l]),a(D,{auth:o.auth,errors:o.errors,heading:e("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e(w,{title:t}),a("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e("div",{className:"flex",children:a(N,{className:"mb-4",onClick:s=>n(e(j,{})),children:[e("span",{children:"Добавить"}),e(I,{className:"w-6 h-auto ml-3"})]})}),e("div",{className:"rounded-lg shadow-block bg-white px-3 pt-5 overflow-y-auto",children:i.map((s,u)=>a("div",{className:"flex space-x-5 items-center mb-5 p-5 rounded-lg bg-blue-50 hover:bg-white hover:shadow-block",children:[e("div",{className:"grow",children:e("div",{className:"font-medium text-violet-500",children:s.title})}),a("div",{className:"flex items-center space-x-4",children:[e(y,{href:route("admin.directions.edit",{direction:s.id}),className:"text-violet-500",children:e(k,{className:"w-6 h-auto"})}),e("a",{href:"#",className:"text-red-500",onClick:c=>{c.preventDefault(),h(s)},children:e(P,{className:"w-6 h-auto"})})]})]},u))})]})]})};export{H as default};

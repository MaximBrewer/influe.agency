import{r as v,j as a,a as e,b as x,d as n,F as N,u as f}from"./app-37294207.js";import{C as w,a as g}from"./ChevronRight-1cc61fe0.js";import"./TextInput-99c0a043.js";import{s as b}from"./statuses-52d2cf53.js";import{t as y}from"./times-a0427bbc.js";import{A as j}from"./AuthenticatedLayout-a8d8a624.js";import"./ApplicationLogo-a9db38cb.js";import"./SecondaryButton-dd1d5b2b.js";const z=l=>{const{book:i}=l;f();const r=b.data.find(d=>d.code==i.status);return e("div",{className:"h-10 flex items-center justify-end",children:e("div",{className:`${r.color} mr-4`,children:r.title})})},C=l=>{const{book:i}=l,{setModal:r,priceFormat:d}=f();let c=0;for(let m of i.payments)c=+m.sum;return e("div",{className:"h-10 flex items-center justify-end",children:e("div",{className:"text-gray-300 mr-4",children:c?d(c):"Оплата"})})},M=l=>{const{pagetitle:i,dateText:r,weekdays:d,prevweek:c,nextweek:m,books:h,auth:p}=l;return v.useState(!1),a(j,{auth:l.auth,errors:l.errors,heading:!1,children:[e(x,{title:i}),a("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e("div",{className:"flex items-center justify-between",children:e("ul",{className:"flex z-1 relative",children:a("li",{className:"relative",children:[e("span",{className:"block rounded-t-lg py-2.5 px-6 shadow-bb font-medium text-3xl bg-white",children:"Расписание"}),e("div",{className:"absolute top-full h-2 left-0 w-full bg-white"})]})})}),a("div",{className:"shadow-bb rounded-lg bg-white py-5 px-4 overflow-hidden flex flex-col",children:[e("div",{className:"text-lg font-medium mb-5 capitalize",children:r}),a("div",{className:"flex items-center bg-slate-100 rounded-lg -mx-3",children:[e(n,{href:route("specialist.timetable",{date:c}),className:"flex items-center shrink-0 py-4 px-4 hover:scale-110",children:e(w,{className:"h-4 w-auto"})}),e("ul",{className:"grow grid grid-cols-7 text-center py-1.5",children:d.map((s,o)=>e("li",{className:"flex justify-center",children:a(n,{href:route("specialist.timetable",{date:s.date}),className:`py-3 px-3 rounded-lg ${s.selected?"bg-white shadow-block":"hover:bg-white hover:shadow-block"} cursor-pointer`,children:[e("div",{className:"text-violet-500",children:s.dateText}),e("div",{className:"text-[.625rem] uppercase text-gray-600",children:s.weekday})]})},o))}),e(n,{href:route("specialist.timetable",{date:m}),className:"flex items-center shrink-0 py-4 px-4 hover:scale-110",children:e(g,{className:"h-4 w-auto"})})]}),e("div",{className:"overflow-y-auto -mr-3 pr-3",children:h.data.length?y.data.map((s,o)=>e("div",{className:"overflow-hidden",children:h.data.filter(t=>t.start==s.value&&t.start==t.time).length?a(N,{children:[a("div",{className:"relative my-4",children:[e("div",{className:"absolute -left-4 -right-4 top-1/2 border border-dashed border-blue-200"}),e("div",{className:"flex",children:e("div",{className:"bg-white px-2 relative z-1 text-xs uppercase font-medium",children:s.label})})]}),h.data.filter(t=>t.start==s.value&&t.start==t.time).map((t,u)=>a(n,{href:route("specialist.appointment",{book:t.id}),className:"flex space-x-5 items-center mb-5 rounded-lg overflow-hidden py-3 bg-blue-50 hover:bg-white hover:shadow-block",children:[e("div",{className:"w-[40%] flex space-x-5 items-center pl-5",children:a("div",{className:"grow",children:[e("div",{className:"font-medium",children:t.patient.fullName}),e("div",{className:"",children:t.patient.phone?t.patient.phone:t.patient.email})]})}),e("div",{className:"text-sm w-[40%]",children:e("span",{className:"text-violet-500 font-medium",children:t.service?t.service.title:""})}),e("div",{className:"text-sm w-[20%] flex justify-end -my-3",children:a("div",{className:"pr-5",children:[e(z,{book:t,auth:p}),e(C,{book:t,auth:p})]})})]},u))]}):""},o)):e("div",{className:"relative my-4 text-center",children:e("div",{className:"text-2xl font-semibold py-8",children:"Нет записей"})})})]})]})]})};export{M as default};

import{j as t,a as e,n as g,R as _,r as m,_ as N}from"./app-759de770.js";import{t as n}from"./timestatuses-9b973040.js";import{A as x}from"./AuthenticatedLayout-08ad22ee.js";import"./ApplicationLogo-eebbc327.js";import"./SecondaryButton-4e219486.js";const y=[{title:"Понедельник"},{title:"Вторник"},{title:"Среда"},{title:"Четверг"},{title:"Пятница"},{title:"Суббота"},{title:"Воскресенье"}],w=d=>{const{item:c,day:a,specialist:r}=d,[l,s]=m.useState(!1),{data:f,setData:v,patch:u,transform:b}=N({day:a,time:c.time,status:null}),h=()=>s(!1);return m.useEffect(()=>(document.addEventListener("closedaysmenu",h),()=>{document.removeEventListener("closedaysmenu",h)}),[]),m.useEffect(()=>{f.status&&u(route("recieption.specialist.schedule.update",{specialist:r.id}),{onSuccess:()=>{s(!1)}})},[f.status]),b(i=>({...i})),t("div",{className:`relative border-l border-violet-500 ${n.find(i=>i.code===c.days[a]).color}`,onClick:i=>{i.stopPropagation(),document.dispatchEvent(new Event("closedaysmenu")),s(!0)},children:[t("div",{children:[" ",e("br",{})," "]}),l?e("div",{className:"absolute border bg-white shadow-block z-10 text-left right-0",children:e("ul",{className:"whitespace-nowrap",children:["free","cfree","rest"].map((i,p)=>e("li",{children:t("label",{htmlFor:i,className:"flex items-center hover:bg-blue-100 cursor-pointer p-1",children:[e("input",{type:"radio",id:i,value:i,name:"status",className:"opacity-0 hidden",onChange:o=>{v("status",i)}}),e("div",{className:`w-4 h-4 ${n.find(o=>o.code===i).color} border border-black mr-3 shrink-0`}),e("div",{children:n.find(o=>o.code===i).html})]})},p))})}):""]})},A=d=>{const{pagetitle:c,specialist:a}=d;for(let r in a.monday);return t(x,{auth:d.auth,errors:d.errors,heading:e("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:c}),children:[e(g,{title:c}),e("div",{className:"shadow-block rounded-lg bg-white text-sm text-center overflow-hidden flex flex-col p-1 mb-3",children:t("div",{className:"overflow-y-auto",children:[t("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] bg-blue-100",children:[e("div",{className:""}),y.map((r,l)=>e("div",{className:"p-5 border-l border-violet-500",children:r.title},l))]}),t("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr]",children:[e("div",{className:"h-8"}),[0,1,2,3,4,5,6].map(r=>e("div",{className:"h-8 border-l border-violet-500"},r))]}),a.schedule.map((r,l)=>t("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] leading-tight border-t border-violet-500 border-dashed",children:[t("div",{className:"relative flex items-center justify-center",children:[e("div",{className:"absolute px-3 bg-white -translate-y-full",children:r.time}),t("div",{children:[" ",e("br",{})," "]})]}),[0,1,2,3,4,5,6].map(s=>e(w,{day:s,item:r,specialist:a},s))]},l)),t("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] border-t border-violet-500 border-dashed",children:[t("div",{className:"relative flex items-center justify-center",children:[e("div",{className:"absolute px-3 bg-white -translate-y-full",children:"19:30"}),t("div",{children:[" ",e("br",{})," "]})]}),[0,1,2,3,4,5,6].map(r=>e("div",{className:"h-8 border-l border-violet-500"},r))]})]})}),e("div",{className:"grid grid-cols-5 gap-4 text-sm",children:n.map((r,l)=>e(_.Fragment,{children:r.code==="active"||r.code==="active"?"":t("div",{className:"flex items-center",children:[e("div",{className:`w-10 h-10 ${r.color} border border-black mr-3 shrink-0`}),e("div",{children:r.title})]})},l))})]})};export{A as default};

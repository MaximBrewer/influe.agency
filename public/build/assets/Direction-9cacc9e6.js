import{j as n,F as p,a as e,W as f,d as v,b as w}from"./app-37294207.js";import"./input-2af2c4ba.js";import{C as y}from"./CancelButton-06e2c05a.js";import{I as g}from"./InputError-668fb783.js";import{I as u}from"./InputLabel-c6911704.js";import{S as x}from"./SuccessButton-11873e65.js";import{T as m}from"./TextInput-99c0a043.js";import{A as N}from"./AuthenticatedLayout-a8d8a624.js";import"./ApplicationLogo-a9db38cb.js";import"./SecondaryButton-dd1d5b2b.js";const k=o=>{const{data:t,setData:l}=o,d=(i,s,r)=>{l(a=>{let h=a.services.slice();return h[s][r]=i.target.value,{...a,services:h}})};return n(p,{children:[e(u,{htmlFor:"title",value:"Услуги",color:"text-gray-200 mb-2",weight:"normal"}),t.services.map((i,s)=>n("div",{className:"border p-2 rounded-xl border-gray-900 border-opacity-[.12] bg-white mb-2 ",children:[e(m,{type:"number",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:i.sort,onChange:r=>d(r,s,"sort")}),e(m,{type:"text",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:i.title,onChange:r=>d(r,s,"title")}),e("div",{className:"flex justify-end",children:e("a",{href:"#",onClick:r=>{r.preventDefault(),l(a=>(a.services.splice(s,1),{...a}))},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})})})})]},s)),e("a",{href:"#",onClick:i=>{i.preventDefault(),l(s=>{let r=s.services.slice();return r.push({title:"",sort:(r.length+1)*100}),{...s,services:r}})},children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})},C=o=>{const t=o.direction.data,{data:l,setData:d,post:i,patch:s,processing:r,errors:a,reset:h,transform:j}=f({id:t?t.id:null,title:t&&t.title?t.title:"",sort:t&&t.sort?t.sort:100,services:t&&t.services?t.services:""}),b=c=>{d(c.target.name,c.target.type==="checkbox"?c.target.checked:c.target.value)};return n("form",{onSubmit:c=>{c.preventDefault(),t&&t.id?s(route("admin.directions.update",{direction:t.id}),{onSuccess:()=>{}}):i(route("admin.directions.store"),{onSuccess:()=>{}})},children:[n("div",{className:"mb-4",children:[e(u,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e(m,{id:"sort",type:"number",name:"sort",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:l.sort,onChange:b}),e(g,{message:a.sort,className:"mt-2"})]}),n("div",{className:"mb-4",children:[e(u,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e(m,{id:"title",type:"text",bg:"bg-white",border:"border border-gray-900 border-opacity-[.12]",className:"mt-1 block w-full",value:l.title,onChange:b}),e(g,{message:a.title,className:"mt-2"})]}),e("div",{className:"mb-4",children:e(k,{setData:d,data:l})}),n("div",{className:"flex space-x-8 items-center justify-end",children:[e(v,{href:route("admin.directions.index"),children:e(y,{className:"my-4 justify-center text-lg font-semibold",size:"wide",children:"Отменить"})}),e(x,{type:"submit",className:"my-4 justify-center text-lg font-semibold",size:"wide",children:"Сохранить"})]})]})},T=o=>{const{pagetitle:t}=o;return n(N,{auth:o.auth,errors:o.errors,heading:e("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e(w,{title:t}),e("div",{className:"pb-12 pt-5",children:e(C,{...o})})]})};export{T as default};

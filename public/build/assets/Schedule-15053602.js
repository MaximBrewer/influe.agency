import{j as i,a as e,b as g,R as _,r as m,W as N}from"./app-03ff14d1.js";import{t as n}from"./timestatuses-e2b6975f.js";import{w as x}from"./weekdays-e8888080.js";import{A as w}from"./AuthenticatedLayout-58a8fe5c.js";import"./ApplicationLogo-7ec9b671.js";import"./SecondaryButton-17380ad0.js";const y=d=>{const{item:c,day:s,specialist:r}=d,[a,l]=m.useState(!1),{data:f,setData:v,patch:u,transform:b}=N({day:s,time:c.time,status:null}),h=()=>l(!1);return m.useEffect(()=>(document.addEventListener("closedaysmenu",h),()=>{document.removeEventListener("closedaysmenu",h)}),[]),m.useEffect(()=>{f.status&&u(route("recieption.specialist.schedule.update",{specialist:r.id}),{onSuccess:()=>{l(!1)}})},[f.status]),b(t=>({...t})),i("div",{className:`relative border-l border-violet-500 ${n.find(t=>t.code===c.days[s]).color}`,onClick:t=>{t.stopPropagation(),document.dispatchEvent(new Event("closedaysmenu")),l(!0)},children:[i("div",{children:[" ",e("br",{})," "]}),a?e("div",{className:"absolute border bg-white shadow-block z-10 text-left right-0",children:e("ul",{className:"whitespace-nowrap",children:["free","cfree","rest"].map((t,p)=>e("li",{children:i("label",{htmlFor:t,className:"flex items-center hover:bg-slate-100 cursor-pointer p-1",children:[e("input",{type:"radio",id:t,value:t,name:"status",className:"opacity-0 hidden",onChange:o=>{v("status",t)}}),e("div",{className:`w-4 h-4 ${n.find(o=>o.code===t).color} border border-black mr-3 shrink-0`}),e("div",{children:n.find(o=>o.code===t).html})]})},p))})}):""]})},C=d=>{const{pagetitle:c,specialist:s}=d;for(let r in s.monday);return i(w,{auth:d.auth,errors:d.errors,heading:e("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:c}),children:[e(g,{title:c}),e("div",{className:"shadow-block rounded-lg bg-white text-sm text-center overflow-hidden flex flex-col p-1 mb-3",children:i("div",{className:"overflow-y-auto",children:[i("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] bg-slate-100",children:[e("div",{className:""}),x.map((r,a)=>e("div",{className:"p-5 border-l border-violet-500",children:r.title},a))]}),i("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr]",children:[e("div",{className:"h-8"}),[0,1,2,3,4,5,6].map(r=>e("div",{className:"h-8 border-l border-violet-500"},r))]}),s.schedule.map((r,a)=>i("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] leading-tight border-t border-violet-500 border-dashed",children:[i("div",{className:"relative flex items-center justify-center",children:[e("div",{className:"absolute px-3 bg-white -translate-y-full",children:r.time}),i("div",{children:[" ",e("br",{})," "]})]}),[0,1,2,3,4,5,6].map(l=>e(y,{day:l,item:r,specialist:s},l))]},a)),i("div",{className:"grid grid-cols-[5.25rem_1fr_1fr_1fr_1fr_1fr_1fr_1fr] border-t border-violet-500 border-dashed",children:[i("div",{className:"relative flex items-center justify-center",children:[e("div",{className:"absolute px-3 bg-white -translate-y-full",children:"19:30"}),i("div",{children:[" ",e("br",{})," "]})]}),[0,1,2,3,4,5,6].map(r=>e("div",{className:"h-8 border-l border-violet-500"},r))]})]})}),e("div",{className:"grid grid-cols-5 gap-4 text-sm",children:n.map((r,a)=>e(_.Fragment,{children:r.code==="active"||r.code==="active"?"":i("div",{className:"flex items-center",children:[e("div",{className:`w-10 h-10 ${r.color} border border-black mr-3 shrink-0`}),e("div",{children:r.title})]})},a))})]})};export{C as default};

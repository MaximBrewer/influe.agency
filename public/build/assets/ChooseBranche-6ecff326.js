import{u as y,r as x,_ as S,j as n,a,g as v}from"./app-eb0af5c2.js";import{I as d}from"./InputError-933c7b18.js";import{I as h}from"./InputLabel-b1fb0cde.js";import{P as C}from"./PrimaryButton-3217cef9.js";import{S as u}from"./react-select.esm-0f1710f7.js";import"./TextInput-56b634fd.js";const b={control:(t,{data:s,isDisabled:l,isFocused:o,isSelected:r})=>({...t,minHeight:"2.625rem",borderRadius:".25rem",outline:"none",borderColor:"transparent",boxShadow:"none",backgroundColor:"#F4F4F4"}),indicatorSeparator:(t,{data:s,isDisabled:l,isFocused:o,isSelected:r})=>({...t,backgroundColor:"transparent"})},P=t=>{const{user:s,localities:l}=t,{setModal:o}=y(),[r,p]=x.useState(l.data[0]),{data:i,setData:f,setError:c,get:N,post:F,patch:D,processing:L,errors:m,reset:j,transform:g}=S({user:s.id,branch:null});return g(e=>({user:e.user.id,branch:e.branch.id})),n("form",{onSubmit:e=>{e.preventDefault(),i.branch?(o(null),v.visit(route("recieption.book.branch",{patient:s.id,branch:i.branch.id}))):c("branch","Выберите филиал")},className:"min-w-[20rem]",children:[a("h2",{className:"font-bold text-xl text-center mb-4",children:"Филиал"}),n("div",{className:"mb-4 hidden",children:[a(h,{htmlFor:"locality",value:"Город",color:"text-gray-200",weight:"normal"}),a(u,{styles:b,defaultValue:r,isSearchable:!1,isClearable:!1,name:"locality",options:l.data,placeholder:"",getOptionLabel:e=>e.title,getOptionValue:e=>e.id,onChange:e=>p(e)}),a(d,{message:m.locality,className:"mt-2"})]}),r?n("div",{className:"mb-4",children:[a(h,{htmlFor:"branch",value:"Филиал",color:"text-gray-200",weight:"normal"}),a(u,{styles:b,defaultValue:i.branch,isSearchable:!1,isClearable:!1,name:"branch",options:r.branches,placeholder:"",getOptionLabel:e=>e.title,getOptionValue:e=>e.id,onChange:e=>{c("branch",null),f("branch",e)}}),a(d,{message:m.branch,className:"mt-2"})]}):"",n("div",{className:"flex flex-col space-y-3 mt-5",children:[a(C,{type:"submit",className:"justify-center",children:"Выбрать"}),a("div",{className:"text-center",children:a("a",{href:"#",className:"text-red-500 underline hover:underline-none",onClick:e=>{e.preventDefault(),o(null)},children:"Отменить"})})]})]})};export{P as C};

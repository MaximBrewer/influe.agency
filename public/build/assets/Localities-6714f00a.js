import{u as b,W as N,j as l,a as e,r as y,b as w}from"./app-03ff14d1.js";import{P as k}from"./Pencil-1f5e5874.js";import{P as v}from"./PrimaryButton-cd388a01.js";import{P as C}from"./Plus-cf0c0787.js";import{I as f}from"./InputError-50e635a9.js";import{I as g}from"./InputLabel-e6cf04b5.js";import{T as p}from"./TextInput-f9b845bb.js";import{I}from"./Info-a22b667c.js";import{A as P}from"./AuthenticatedLayout-58a8fe5c.js";import{T as D}from"./Trash-d9f1bb47.js";import"./ApplicationLogo-7ec9b671.js";import"./SecondaryButton-17380ad0.js";const x=i=>{const{locality:t=null}=i,{setModal:c}=b(),{data:r,setData:n,post:d,patch:m,processing:h,errors:a,reset:u}=N({id:t?t.id:null,sort:t?t.sort:100,title:t?t.title:""}),o=s=>{n(s.target.name,s.target.type==="checkbox"?s.target.checked:s.target.value)};return l("div",{children:[e("h2",{className:"font-bold text-xl text-center mb-4",children:"Населенный пункт"}),l("form",{onSubmit:s=>{s.preventDefault(),t&&t.id?m(route("admin.localities.update",{locality:t.id}),{onSuccess:()=>{c(null)}}):d(route("admin.localities.store"),{onSuccess:()=>{c(null)}})},className:"min-w-[24rem]",children:[l("div",{className:"mb-4",children:[e(g,{htmlFor:"sort",value:"Порядок",color:"text-gray-200",weight:"normal"}),e(p,{id:"sort",type:"number",name:"sort",bg:"bg-gray-50",value:r.sort,className:"mt-1 block w-full text-xl",onChange:o}),e(f,{message:a.sort,className:"mt-2"})]}),l("div",{className:"mb-4",children:[e(g,{htmlFor:"title",value:"Наименование",color:"text-gray-200",weight:"normal"}),e(p,{id:"title",type:"text",name:"title",bg:"bg-gray-50",value:r.title,className:"mt-1 block w-full text-xl",onChange:o}),e(f,{message:a.title,className:"mt-2"})]}),e(v,{className:"w-full my-4 justify-center text-lg font-semibold",children:"Отправить"}),e("div",{className:"text-center",children:e("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:s=>{s.preventDefault(),c(null)},children:"Отменить"})})]})]})},z=i=>{const{pagetitle:t,localities:c,errors:r={}}=i,{setModal:n}=b(),{data:d,post:m}=N({_method:"delete"}),h=a=>{m(route("admin.localities.destroy",{locality:a.id}))};return y.useEffect(()=>{r&&r.message&&n(e(I,{message:r.message,status:"error"}))},[r]),l(P,{auth:i.auth,errors:i.errors,heading:e("h1",{className:"font-semibold text-3xl text-gray-800 leading-tight",children:t}),children:[e(w,{title:t}),l("div",{className:"pb-12 overflow-hidden flex flex-col",children:[e("div",{className:"flex",children:l(v,{className:"mb-4",onClick:a=>n(e(x,{})),children:[e("span",{children:"Добавить"}),e(C,{className:"w-6 h-auto ml-3"})]})}),e("div",{className:"rounded-lg shadow-block bg-white px-3 pt-5 overflow-y-auto",children:c.map((a,u)=>l("div",{className:"flex space-x-5 items-center mb-5 p-5 rounded-lg bg-blue-50 hover:bg-white hover:shadow-block",children:[e("div",{className:"grow",children:e("div",{className:"font-medium text-violet-500",children:a.title})}),l("div",{className:"flex items-center space-x-4",children:[e("a",{href:"#",className:"text-violet-500",onClick:o=>{o.preventDefault(),n(e(x,{locality:a}))},children:e(k,{className:"w-6 h-auto"})}),e("a",{href:"#",className:"text-red-500",onClick:o=>{o.preventDefault(),h(a)},children:e(D,{className:"w-6 h-auto"})})]})]},u))})]})]})};export{z as default};

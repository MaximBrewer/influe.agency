import{u as k,W as F,j as l,a}from"./app-37294207.js";import{S as d}from"./react-select.esm-534dd423.js";import{I as i}from"./InputError-668fb783.js";import{I as h}from"./InputLabel-c6911704.js";import{P as L}from"./PrimaryButton-113bb876.js";import{t as g}from"./times-a0427bbc.js";const H={data:[{value:5,label:"5 мин"},{value:10,label:"10 мин"},{value:15,label:"15 мин"},{value:20,label:"20 мин"},{value:25,label:"25 мин"},{value:30,label:"30 мин"},{value:35,label:"35 мин"},{value:40,label:"40 мин"}]},v={control:(t,{data:n,isDisabled:o,isFocused:m,isSelected:s})=>({...t,minHeight:"2.625rem",borderRadius:".5rem",outline:"none",borderColor:"transparent",boxShadow:"none",backgroundColor:"#F4F4F4"}),indicatorSeparator:(t,{data:n,isDisabled:o,isFocused:m,isSelected:s})=>({...t,backgroundColor:"transparent"})},W=t=>{const{auth:n,branch:o,patient:m,specialist:s,book:M=null,day:f=null,date:x=null,week:C=null,year:w,item:N}=t,{setModal:b}=k(),{data:c,setData:u,post:y,patch:D,processing:j,setError:p,errors:r,reset:B,transform:S}=F({time:g.data.find(e=>e.value==N.time),duration:null,service:null,year:w,day:f,week:C,date:x});return S(e=>({...e,time:e.time?e.time.value:null,duration:e.duration?e.duration.value:null,service:e.service?e.service.id:null})),l("div",{children:[a("h2",{className:"font-bold text-xl text-center mb-4",children:"Новая запись в расписании"}),l("form",{onSubmit:e=>{e.preventDefault(),y(route(`${n.user.role.name}.book.store`,{branch:o.id,patient:m.id,specialist:s.id}),{onSuccess:()=>{b(null)}})},className:"min-w-[32rem]",children:[l("div",{className:"flex items-start",children:[l("div",{className:"mb-4 w-1/2",children:[a(h,{htmlFor:"time",value:"Начало приема",color:"text-gray-200",weight:"normal"}),a(d,{styles:v,isSearchable:!1,isClearable:!1,maxMenuHeight:200,name:"time",value:c.time,options:g.data,placeholder:"",onChange:e=>{u("time",e),p("message",null)}}),a(i,{message:r.time,className:"mt-2"})]}),a("svg",{className:"w-3 h-auto shrink-0 mx-4 mt-9",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6962 4.25606L7.65722 1.21706C7.26622 0.827061 6.63322 0.827061 6.24222 1.21706C5.85222 1.60706 5.85222 2.24106 6.24222 2.63106L7.58622 3.97506H1.94922C1.39822 3.97506 0.949219 4.42306 0.949219 4.97506C0.949219 5.52606 1.39822 5.97506 1.94922 5.97506H7.58622L6.24222 7.31806C5.85222 7.70906 5.85222 8.34206 6.24222 8.73306C6.63322 9.12306 7.26622 9.12306 7.65722 8.73306L10.6962 5.69306C10.7002 5.69006 10.7042 5.68606 10.7072 5.68206C10.9032 5.48706 11.0002 5.23106 11.0002 4.97506C11.0002 4.71906 10.9032 4.46306 10.7072 4.26706C10.7042 4.26406 10.7002 4.26006 10.6962 4.25606Z",fill:"#333333"})}),l("div",{className:"mb-4 w-1/2",children:[a(h,{htmlFor:"duration",value:"Длительность",color:"text-gray-200",weight:"normal"}),a(d,{styles:v,isSearchable:!1,isClearable:!1,maxMenuHeight:200,name:"duration",value:c.duration,options:H.data,placeholder:"",onChange:e=>{u("duration",e),p("message",null)}}),a(i,{message:r.duration,className:"mt-2"})]})]}),l("div",{className:"mb-4",children:[a(h,{htmlFor:"service",value:"Услуга",color:"text-gray-200",weight:"normal"}),a(d,{styles:v,isSearchable:!1,isClearable:!1,name:"service",maxMenuHeight:200,value:c.service,options:s.directions,placeholder:"",getOptionLabel:e=>e.title,getOptionValue:e=>e.id,onChange:e=>u("service",e)}),a(i,{message:r.service,className:"mt-2"})]}),a("div",{className:"text-center",children:a(i,{message:r.message,className:"mt-2"})}),a("div",{className:"text-center",children:a(L,{className:"w-full max-w-[24rem] my-4 justify-center text-lg font-semibold",children:"Отправить"})}),a("div",{className:"text-center",children:a("a",{href:"#",className:"text-red-500 underline hover:no-underline",onClick:e=>{e.preventDefault(),b(null)},children:"Отменить"})})]})]})};export{W as B};
